macroscript core_user__getUserByLoginAndService(
	@NotNull string login,
	@NotNull service<simple> zpService
	
) {
	const profile = zpService.checkUser({
		key: login,
		softFail: true
	});
	const user  = {
		userKey: profile.zetapushKey
	};
	for property in profile {
		if (property.key != 'zetapushKey') {
			user[property.key] = property.value;
		}
	}
} return {
	User user
} on channel __selfName
